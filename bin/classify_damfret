#!/usr/bin/env python3
import os
import pandas as pd
import pkgutil
from argparse import ArgumentParser
from damfret_classifier.config import Config
from damfret_classifier.analyze import classify_datasets
from damfret_classifier.utils import load_settings, create_genes_table, remove_genes_and_replicates_below_count
from damfret_classifier.utils import validate_gene_replicates, to_fwf


script_description = (
    'This is a Python package for classifying DAmFRET data based on supervised learning. ' \
    'The data can also be analyzed to determine mechanistic inferences regarding nucleation of ordered assemblies.'
)


def main():
    parser = ArgumentParser('classify_damfret', description=script_description)
    parser.add_argument('config', help='The YAML config file to use.', type=str)
    parser.add_argument('config_id', help='The identifier contained in the config file to load.', type=str)    
    args = parser.parse_args()
    
    print('Loading settings...')
    settings = load_settings(args.config)

    print('Loading config...')
    config = Config(args.config, args.config_id)

    # more to add soon...


if __name__ == '__main__':
    main()
